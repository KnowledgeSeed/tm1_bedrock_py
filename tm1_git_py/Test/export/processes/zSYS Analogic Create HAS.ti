#region Prolog
#****Begin: Generated Statements***
#****End: Generated Statements****

# Antal Botond 06.13
# 1,
# Has hierarchia törlése
# 2
# Sima ledger hier lemásolása
# 3,
# 6 jegyű főkönyvek törlése a hierarhiából
# 4
# C-s elemek attributumainak átmásolása


#1
# Has hierarchia törlése
HierarchyDestroy('ledger', 'HAS');

# 2,
# Sima ledgre hier lemásolása
ExecuteProcess('}bedrock.hier.clone',
   'pLogOutput', 0,
   'pSrcDim', 'ledger',
   'pSrcHier', 'ledger',
   'pTgtDim', 'ledger',
   'pTgtHier', 'HAS',
   'pAttr', 0,
   'pUnwind', 2
  );





















#endregion
#region Metadata
#****Begin: Generated Statements***
#****End: Generated Statements****



# 2,
# 6 jegyű főkönyvek törlése a hierarhiából
isChild = attrs('ledger',vledger, 'isChild');
  
IF((LONG(vledger) = 6) & isChild @= '1');
  
  IF(HierarchyElementExists('ledger','HAS', vledger) = 1);
    
      HierarchyElementDelete('ledger', 'HAS', vledger);

  ENDIF;
ENDIF;

#C-s elemek attributumainak áttöltése
IF((HierarchyElementExists('ledger','HAS', vledger) = 1) & isChild @= '0');
  
  attrUIlevelValue = AttrS('ledger:ledger', vledger, 'UI level');
  AttrPutS(attrUIlevelValue, 'ledger:HAS', vledger,'UI level');
  
  attrCaptionValue = AttrS('ledger:ledger', vledger, 'Caption');
  AttrPutS(attrCaptionValue, 'ledger:HAS', vledger,'Caption');

ENDIF;


#endregion
#region Data
#****Begin: Generated Statements***
#****End: Generated Statements****

#endregion
#region Epilog
#****Begin: Generated Statements***
#****End: Generated Statements****
#endregion
